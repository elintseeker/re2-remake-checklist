!function(){document.getElementById("standard");var c=document.getElementById("speedrun"),o=localStorage.getItem("re2StandardData"),n=localStorage.getItem("re2SpeedrunData"),l={},e=function(){for(var e in l=c?(console.log("Has speedrun data, restoring..."),JSON.parse(n)):(console.log("Has data, restoring..."),JSON.parse(o)))for(var t in l[e]){document.querySelector("[data-id="+t+"] input").checked=!0}},t={confirmDelete:function(e){document.querySelector(".modal").classList.add("is-active")},close:function(e){document.querySelector(".modal").classList.remove("is-active")},load:function(){fetch("modal.html").then(function(e){return e.text()}).then(function(e){document.getElementById("resetbar").innerHTML=e,t.events()}).catch(function(e){console.log("error fetch!")})},deleteData:function(e){console.log("Deleting all data..."),document.querySelectorAll(".checkbox input").forEach(function(e){e.checked=!1}),l={"leon-a":{},"claire-b":{},"claire-a":{},"leon-b":{}},"all"===e?(console.log("Removing all checklist data..."),localStorage.clear()):(console.log("Deleting checklist..."),c?localStorage.removeItem("re2SpeedrunData"):localStorage.removeItem("re2StandardData")),a.items(),t.close()},events:function(){document.getElementById("resetAllChecklist").addEventListener("click",function(){t.deleteData("all")},!1),document.getElementById("confirm").addEventListener("click",t.confirmDelete,!1),document.querySelector(".modal-close").addEventListener("click",t.close,!1)}},a={items:function(){document.querySelectorAll("section").forEach(function(e){var t=e.getAttribute("id"),o=document.querySelectorAll("#"+t+' input[type="checkbox"]').length;document.querySelectorAll("#"+t+' input[type="checkbox"]:checked').length;document.querySelector('[data-target="'+t+'"] .total').innerHTML=o,a.itemsChecked(t)})},itemsChecked:function(e){var t=document.querySelectorAll("#"+e+' input[type="checkbox"]:checked');document.querySelector('[data-target="'+e+'"] .currtotal').innerHTML=t.length}},r={displaySection:function(e){var t=this.getAttribute("data-target");document.getElementById(t).classList.toggle("hide")},wrap:function(){document.querySelectorAll(".box li ").forEach(function(e){var t=e.innerHTML;e.innerHTML='<label class="checkbox"><input type="checkbox">'+t+"</label>"})},toggleCheck:function(e){var t=this.parentNode.parentNode,o=t.parentNode.parentNode.getAttribute("id"),n=t.getAttribute("data-id");this.checked?(console.log("Added",n),l[o][n]=!0):(console.log("Removed",n),delete l[o][n]),c?localStorage.setItem("re2SpeedrunData",JSON.stringify(l)):localStorage.setItem("re2StandardData",JSON.stringify(l)),a.itemsChecked(o)}};l={"leon-a":{},"claire-b":{},"claire-a":{},"leon-b":{}},r.wrap(),c?(console.log("speedrun list..."),n&&e()):(console.log("standard run list..."),o&&e()),a.items(),document.querySelectorAll(".checkbox input").forEach(function(e){e.addEventListener("click",r.toggleCheck)}),document.querySelectorAll(".box-toggle").forEach(function(e){e.addEventListener("click",r.displaySection)}),document.addEventListener("DOMContentLoaded",t.load,!1)}();