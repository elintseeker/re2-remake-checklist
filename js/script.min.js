!function(){document.getElementById("standard");var speedrunList=document.getElementById("speedrun"),hasStandardData=localStorage.getItem("re2StandardData"),hasSpeedrunData=localStorage.getItem("re2SpeedrunData"),runData={},restoreData=function(){for(var k in runData=speedrunList?(console.log("Has speedrun data, restoring..."),JSON.parse(hasSpeedrunData)):(console.log("Has data, restoring..."),JSON.parse(hasStandardData)))for(var d in runData[k]){document.querySelector("[data-id="+d+"] input").checked=!0}},modal={confirmDelete:function(e){document.querySelector(".modal").classList.add("is-active")},close:function(e){document.querySelector(".modal").classList.remove("is-active")},load:function(){fetch("modal.html").then(function(res){return res.text()}).then(function(html){document.getElementById("resetbar").innerHTML=html,modal.events()}).catch(function(error){console.log("error fetch!")})},deleteData:function(nuke){console.log("Deleting all data..."),document.querySelectorAll(".checkbox input").forEach(function(boxes){boxes.checked=!1}),runData={"leon-a":{},"claire-b":{},"claire-a":{},"leon-b":{}},"all"===nuke?(console.log("Removing all checklist data..."),localStorage.clear()):(console.log("Deleting checklist..."),speedrunList?localStorage.removeItem("re2SpeedrunData"):localStorage.removeItem("re2StandardData")),total.items(),modal.close()},events:function(){document.getElementById("resetAllChecklist").addEventListener("click",function(){modal.deleteData("all")},!1),document.getElementById("confirm").addEventListener("click",modal.confirmDelete,!1),document.querySelector(".modal-close").addEventListener("click",modal.close,!1)}},total={items:function(){document.querySelectorAll("section").forEach(function(section){var thisId=section.getAttribute("id"),numItems=document.querySelectorAll("#"+thisId+' input[type="checkbox"]').length;document.querySelectorAll("#"+thisId+' input[type="checkbox"]:checked').length;document.querySelector('[data-target="'+thisId+'"] .total').innerHTML=numItems,total.itemsChecked(thisId)})},itemsChecked:function(id){var items=document.querySelectorAll("#"+id+' input[type="checkbox"]:checked');document.querySelector('[data-target="'+id+'"] .currtotal').innerHTML=items.length}},items={displaySection:function(e){var elTarget=this.getAttribute("data-target");document.getElementById(elTarget).classList.toggle("hide")},wrap:function(){document.querySelectorAll(".box li ").forEach(function(item){var txt=item.innerHTML;item.innerHTML='<label class="checkbox"><input type="checkbox">'+txt+"</label>"})},toggleCheck:function(e){var parentEl=this.parentNode.parentNode,sectionId=parentEl.parentNode.parentNode.getAttribute("id"),dataId=parentEl.getAttribute("data-id");this.checked?(console.log("Added",dataId),runData[sectionId][dataId]=!0):(console.log("Removed",dataId),delete runData[sectionId][dataId]),speedrunList?localStorage.setItem("re2SpeedrunData",JSON.stringify(runData)):localStorage.setItem("re2StandardData",JSON.stringify(runData)),total.itemsChecked(sectionId)}};runData={"leon-a":{},"claire-b":{},"claire-a":{},"leon-b":{}},items.wrap(),speedrunList?(console.log("speedrun list..."),hasSpeedrunData&&restoreData()):(console.log("standard run list..."),hasStandardData&&restoreData()),total.items(),document.querySelectorAll(".checkbox input").forEach(function(checkbox){checkbox.addEventListener("click",items.toggleCheck)}),document.querySelectorAll(".box-toggle").forEach(function(div){div.addEventListener("click",items.displaySection)}),document.addEventListener("DOMContentLoaded",modal.load,!1)}();