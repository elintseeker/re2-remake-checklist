var standardList=document.getElementById("standard"),speedrunList=document.getElementById("speedrun"),hasStandardData=localStorage.getItem("re2StandardData"),hasSpeedrunData=localStorage.getItem("re2SpeedrunData"),runData={},restoreData=function(){for(var e in runData=speedrunList?(console.log("Has speedrun data, restoring..."),JSON.parse(hasSpeedrunData)):(console.log("Has data, restoring..."),JSON.parse(hasStandardData)))for(var t in runData[e]){document.querySelector("[data-id="+t+"] input").checked=!0}},init=function(e){return runData={"leon-a":{},"claire-b":{},"claire-a":{},"leon-b":{}},standardList?(console.log("standard run list..."),void(hasStandardData&&restoreData())):speedrunList?(console.log("speedrun list..."),void(hasSpeedrunData&&restoreData())):void 0};init();for(var toggleItem=function(e){var t=this.parentNode.parentNode,a=t.parentNode.parentNode.getAttribute("id"),o=t.getAttribute("data-id");this.checked?(console.log("tick",o),runData[a][o]=!0):(console.log("untick",o),delete runData[a][o]),speedrunList?localStorage.setItem("re2SpeedrunData",JSON.stringify(runData)):localStorage.setItem("re2StandardData",JSON.stringify(runData)),countTotal(a)},confirmDelete=function(e){document.querySelector(".modal").classList.add("is-active")},closeModal=function(e){document.querySelector(".modal").classList.remove("is-active")},deleteData=function(e){console.log("Deleting all data...");for(var t=document.querySelectorAll(".checkbox input"),a=0;a<t.length;a++)t[a].checked=!1;runData={"leon-a":{},"claire-b":{},"claire-a":{},"leon-b":{}},"all"===e?(console.log("Removing all checklist data..."),localStorage.clear()):(console.log("deleting checklist..."),hasSpeedrunData?localStorage.removeItem("re2SpeedrunData"):localStorage.removeItem("re2StandardData")),countTotal("reset"),closeModal()},displaySection=function(e){var t=this.getAttribute("data-target"),a=document.getElementById(t);console.log(t),a.classList.toggle("hide")},countTotal=function(e){if("reset"!==e){document.querySelector('[data-target="'+e+'"] .currtotal').innerHTML=Object.keys(runData[e]).length}else{var t=document.getElementsByClassName("currtotal");console.log(t.length);for(var a=0;a<t.length;a++)t[a].innerHTML="0"}},chkBoxEl=document.querySelectorAll(".checkbox input"),i=0;i<chkBoxEl.length;i++)chkBoxEl[i].addEventListener("click",toggleItem,!1);var boxToggle=document.querySelectorAll(".box-toggle");for(i=0;i<boxToggle.length;i++)boxToggle[i].addEventListener("click",displaySection,!1);for(var sections=document.querySelectorAll("section"),x=0;x<sections.length;x++){var id=sections[x].getAttribute("id"),inputs=document.querySelectorAll("#"+id+" input"),totalItems=document.querySelector('[data-target="'+id+'"] .total');totalItems.innerHTML=inputs.length,countTotal(id)}var loadModal=function(e){if(window.XMLHttpRequest){var t=new XMLHttpRequest;t.open("GET","/modal.html",!0),t.onload=function(){200<=t.status&&t.status<400?(document.getElementById("resetbar").innerHTML=t.response,document.getElementById("resetAllChecklist").addEventListener("click",function(){deleteData("all")},!1),document.getElementById("resetChecklist").addEventListener("click",function(){deleteData()},!1),document.getElementById("confirm").addEventListener("click",confirmDelete,!1),document.querySelector(".modal-close").addEventListener("click",closeModal,!1)):console.log("Error fetching html")},t.send()}};document.addEventListener("DOMContentLoaded",loadModal,!1);