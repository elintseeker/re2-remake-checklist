!function(){document.getElementById("standard");for(var r=document.getElementById("speedrun"),a=localStorage.getItem("re2StandardData"),d=localStorage.getItem("re2SpeedrunData"),i={},u=function(){for(var e in i=r?(console.log("Has speedrun data, restoring..."),JSON.parse(d)):(console.log("Has data, restoring..."),JSON.parse(a)))for(var t in i[e]){document.querySelector("[data-id="+t+"] input").checked=!0}},s=function(e){var t=this.parentNode.parentNode,n=t.parentNode.parentNode.getAttribute("id"),o=t.getAttribute("data-id");this.checked?(console.log("Added",o),i[n][o]=!0):(console.log("Removed",o),delete i[n][o]),r?localStorage.setItem("re2SpeedrunData",JSON.stringify(i)):localStorage.setItem("re2StandardData",JSON.stringify(i)),m.itemsChecked(n)},o={confirmDelete:function(e){document.querySelector(".modal").classList.add("is-active")},close:function(e){document.querySelector(".modal").classList.remove("is-active")},load:function(){fetch("./modal.html").then(function(e){return e.text()}).then(function(e){document.getElementById("resetbar").innerHTML=e,o.events()}).catch(function(e){console.log("error fetch!")})},deleteData:function(e){console.log("Deleting all data...");for(var t=document.querySelectorAll(".checkbox input"),n=0;n<t.length;n++)t[n].checked=!1;i={"leon-a":{},"claire-b":{},"claire-a":{},"leon-b":{}},"all"===e?(console.log("Removing all checklist data..."),localStorage.clear()):(console.log("Deleting checklist..."),r?localStorage.removeItem("re2SpeedrunData"):localStorage.removeItem("re2StandardData")),m.items(),o.close()},events:function(){document.getElementById("resetAllChecklist").addEventListener("click",function(){o.deleteData("all")},!1),document.getElementById("confirm").addEventListener("click",o.confirmDelete,!1),document.querySelector(".modal-close").addEventListener("click",o.close,!1)}},m={items:function(){for(var e=document.querySelectorAll("section"),t=0;t<e.length;t++){var n=e[t].getAttribute("id"),o=document.querySelectorAll("#"+n+' input[type="checkbox"]').length;document.querySelectorAll("#"+n+' input[type="checkbox"]:checked').length;document.querySelector('[data-target="'+n+'"] .total').innerHTML=o,m.itemsChecked(n)}},itemsChecked:function(e){var t=document.querySelectorAll("#"+e+' input[type="checkbox"]:checked');document.querySelector('[data-target="'+e+'"] .currtotal').innerHTML=t.length}},e=function(e){var t=this.getAttribute("data-target");document.getElementById(t).classList.toggle("hide")},t=document.querySelectorAll(".checkbox input"),n=0;n<t.length;n++)t[n].addEventListener("click",s,!1);var l=document.querySelectorAll(".box-toggle");for(n=0;n<l.length;n++)l[n].addEventListener("click",e,!1);document.addEventListener("DOMContentLoaded",o.load,!1),function(e){i={"leon-a":{},"claire-b":{},"claire-a":{},"leon-b":{}};for(var t=document.querySelectorAll(".box li "),n=0;n<t.length;n++){var o=t[n].innerText;t[n].innerHTML='<label class="checkbox"><input type="checkbox">'+o+"</label>"}for(var l=document.querySelectorAll(".checkbox input"),c=0;c<l.length;c++)l[c].addEventListener("click",s,!1);r?(console.log("speedrun list..."),d&&u()):(console.log("standard run list..."),a&&u()),m.items()}()}();