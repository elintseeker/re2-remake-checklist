!function(){var e,n=document.getElementById("speedrun"),o=localStorage.getItem("re2StandardData"),c=localStorage.getItem("re2SpeedrunData"),l={},t=function(){for(var e in l=n?(console.log("Has speedrun data, restoring..."),JSON.parse(c)):(console.log("Has data, restoring..."),JSON.parse(o)))for(var t in l[e]){document.querySelector("[data-id="+t+"] input").checked=!0}},a={confirmDelete:function(){document.querySelector(".modal").classList.add("is-active")},close:function(){document.querySelector(".modal").classList.remove("is-active")},load:function(){fetch("modal.html").then(function(e){return e.text()}).then(function(e){document.getElementById("resetbar").innerHTML=e,a.events()}).catch(function(e){console.log("error fetch!"),console.log(e)})},deleteData:function(e){console.log("Deleting all data..."),document.querySelectorAll(".checkbox input").forEach(function(e){e.checked=!1}),l={"leon-a":{},"claire-b":{},"claire-a":{},"leon-b":{}},"all"===e?(console.log("Removing all checklist data..."),localStorage.clear()):(console.log("Deleting checklist..."),n?localStorage.removeItem("re2SpeedrunData"):localStorage.removeItem("re2StandardData")),r.items(),a.close()},events:function(){document.getElementById("resetAllChecklist").addEventListener("click",function(){a.deleteData("all")},!1),document.getElementById("confirm").addEventListener("click",a.confirmDelete,!1),document.querySelector(".modal-close").addEventListener("click",a.close,!1)}},r={items:function(){document.querySelectorAll("section").forEach(function(e){var t=e.getAttribute("id"),o=document.querySelectorAll("#"+t+' input[type="checkbox"]').length;document.querySelector('[data-target="'+t+'"] .total').innerHTML=o,r.itemsChecked(t)})},itemsChecked:function(e){var t=document.querySelectorAll("#"+e+' input[type="checkbox"]:checked');document.querySelector('[data-target="'+e+'"] .currtotal').innerHTML=t.length}},i={displaySection:function(){var e=this.getAttribute("data-target");document.getElementById(e).classList.toggle("hide")},wrap:function(){document.querySelectorAll(".box li ").forEach(function(e){var t=e.innerHTML;e.innerHTML='<label class="checkbox"><input type="checkbox">'+t+"</label>"})},toggleCheck:function(){var e=this.parentNode.parentNode,t=e.parentNode.parentNode.getAttribute("id"),o=e.getAttribute("data-id");this.checked?(console.log("Added",o),l[t][o]=!0):(console.log("Removed",o),delete l[t][o]),n?localStorage.setItem("re2SpeedrunData",JSON.stringify(l)):localStorage.setItem("re2StandardData",JSON.stringify(l)),r.itemsChecked(t)}};l={"leon-a":{},"claire-b":{},"claire-a":{},"leon-b":{}},i.wrap(),e?(console.log("standard run list..."),o&&t()):(console.log("speedrun list..."),c&&t()),r.items(),document.querySelectorAll(".checkbox input").forEach(function(e){e.addEventListener("click",i.toggleCheck)}),document.querySelectorAll(".box-toggle").forEach(function(e){e.addEventListener("click",i.displaySection)}),document.addEventListener("DOMContentLoaded",a.load,!1)}();